:root{
  /* Pink theme variables */
  --bg:#1a0414;            /* deep plum background */
  --panel:#22061a;         /* panel background */
  --muted:#f3c7de;         /* muted / secondary text (soft pink) */
  --accent:#ff4da6;        /* primary accent (bright pink) */
  --user:#ff77c2;          /* user bubble (lighter pink) */
  --bot:#2b0a17;           /* bot bubble / darker panel */
  --glass: rgba(255,255,255,0.03);
  --max-width:900px;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

*{box-sizing:border-box}

html,body{height:100%}

body{
  margin:0;
  padding:24px;
  background:linear-gradient(180deg,#120417 0%, #1a0414 50%);
  color:#ffeef8;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  display:flex;align-items:center;justify-content:center;
  min-height:100vh;
}

.app{
  width:100%;
  max-width:var(--max-width);
  /* keep the app from growing beyond the viewport so internal areas can scroll */
  max-height: calc(100vh - 48px);
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:16px;
  box-shadow:0 10px 30px rgba(2,6,23,0.6);
  overflow:hidden;
  display:grid;
  grid-template-columns: 360px 1fr;
  min-height:560px;
}

/* Mobile first: collapse to single column */
@media (max-width:880px){
  .app{grid-template-columns:1fr; height:100vh; border-radius:0}
  body{padding:0}
}

/* Sidebar */
.sidebar{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding:18px;
  border-right:1px solid rgba(255,255,255,0.03);
  display:flex;flex-direction:column;gap:12px;
  min-width:260px;
}

.brand{display:flex;gap:12px;align-items:center}

.brand .logo{
  width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#ff77c2);display:flex;align-items:center;justify-content:center;font-weight:700;color:#310514
}

.brand h1{font-size:16px;margin:0}

.session-row{display:flex;gap:8px;align-items:center}

.session-row input{flex:1;background:transparent;border:1px solid rgba(255,255,255,0.03);padding:8px;border-radius:8px;color:inherit}

.session-row button{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;cursor:pointer}

.preset-list{display:flex;flex-direction:column;gap:8px;margin-top:6px}

.preset{background:var(--glass);padding:10px;border-radius:10px;font-size:14px;cursor:pointer;border:1px solid rgba(255,255,255,0.02)}

.preset:hover{transform:translateY(-2px);transition:transform .12s}

.info{margin-top:auto;font-size:13px;color:var(--muted)}

.chat-area{display:flex;flex-direction:column;height:100%;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  /* allow children (like .messages) to shrink properly for scrolling in a flex column */
  min-height:0;
}

.header{padding:16px;border-bottom:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;gap:12px}

.header .title{font-weight:600}

.messages{flex:1;overflow:auto;padding:18px;display:flex;flex-direction:column;gap:12px;background-image:linear-gradient(transparent 0, rgba(255,255,255,0.01) 1px);backdrop-filter: blur(6px);
  /* allow internal scrolling inside a flex child */
  min-height:0;
}

.msg{max-width:78%;padding:12px 14px;border-radius:12px;line-height:1.45;font-size:15px}

.msg .meta{font-size:12px;color:var(--muted);margin-bottom:6px}

.msg.user{align-self:flex-end;background:linear-gradient(90deg,var(--user), #ff4da6);color:#3a0014;border-bottom-right-radius:6px}

.msg.bot{align-self:flex-start;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));color:var(--muted);border:1px solid rgba(255,255,255,0.03)}

.typing{display:inline-block;height:14px}

.dots span{display:inline-block;width:6px;height:6px;margin-right:4px;border-radius:50%;background:var(--muted);opacity:.4;animation:blink 1s infinite}

.dots span:nth-child(2){animation-delay:.12s}

.dots span:nth-child(3){animation-delay:.24s}

@keyframes blink{0%{opacity:.2}50%{opacity:1}100%{opacity:.2}}

.composer{display:flex;padding:12px;border-top:1px solid rgba(255,255,255,0.03);gap:8px;align-items:center}

.composer textarea{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);resize:none;background:transparent;color:inherit;min-height:48px}

.composer .send{background:var(--accent);border:none;color:#fff;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}

.composer .send[disabled]{opacity:.5;cursor:not-allowed}

.meta-row{display:flex;gap:10px;align-items:center}

.small{font-size:12px;color:var(--muted)}

/* accessibility focus */
button:focus, .preset:focus, input:focus, textarea:focus{outline:3px solid rgba(255,77,166,0.18);outline-offset:2px}

/* larger screens */
@media (min-width:1100px){
  .app{height:760px}
}
